/* src/components/FeaturedItemSection.css */

/* ==== Base layout ==== */
.fi-section { position: relative; }
.fi-shell { margin-left: auto; margin-right: auto; }

.fi-heading {
  font-family: 'Lilita One', cursive;
  font-weight: 400;
  font-size: 2rem;
  letter-spacing: 0.5px;
  margin: 0 0 14px 0;
  -webkit-text-stroke: 1px #212121;
  text-align: center;
}

.fi-subheading {
  margin: 0 0 18px 0;
  font-size: 1rem;
  opacity: 0.95;
  text-align: center;
}

.fi-card {
  padding: 24px;
  border-radius: 20px;            /* inherits nicely into media block */
}

/* ==== Content grid: media + details ==== */
.fi-grid {
  display: grid;
  grid-template-columns: minmax(280px, 420px) 1fr;
  gap: 28px;
  align-items: center;
}

/* ==== Media (product image) ==== */
.fi-media {
  padding: 10px;
  border-radius: inherit;
  position: relative;
}

.fi-media-inner {
  width: 100%;
  display: block;
  overflow: hidden;               /* guard against overflow */
  border-radius: inherit;
}

/* Generic img + optional explicit class */
.fi-media img,
.fi-media-img {
  display: block;
  width: 100%;
  height: auto;
  max-width: 100%;                /* extra guard */
  border-radius: inherit;
}

/* Sticker style + subtle tilt (driven by CSS vars from React inline styles) */
.fi-media.sticker {
  position: relative;
  transform: rotate(var(--image-tilt, 0deg));
  isolation: isolate;
}
.fi-media.sticker .fi-media-inner {
  position: absolute;
  inset: calc(var(--sticker-outline, 10px) * -1);
  border-radius: inherit;
  background: var(--sticker-outline-color, #fff);
  z-index: 0;
}
.fi-media.sticker .fi-media-img { position: relative; z-index: 1; }

@media (hover:hover) and (prefers-reduced-motion: no-preference) {
  .fi-media.sticker:hover {
    transform: rotate(var(--image-tilt, 0deg)) translateY(-2px);
  }
}

/* Washi tape corners (optional decorative) */
.fi-tape {
  position: absolute;
  width: var(--tape-w, 80px);
  height: var(--tape-h, 22px);
  background: var(--tape-bg, #ffd86b);
  border: 2px solid var(--tape-stroke, #212121);
  border-radius: 6px;
  box-shadow: 2px 2px 0 rgba(0,0,0,0.1);
  z-index: 2;
}
.fi-tape.tl { top: -10px; left: 8px; transform: rotate(var(--tape-rot, -10deg)); }
.fi-tape.br { bottom: -10px; right: 8px; transform: rotate(calc(var(--tape-rot, -10deg) * -1)); }

/* ==== Details column ==== */
.fi-details {
  display: flex;
  flex-direction: column;
  gap: 14px;
  align-items: center;            /* centers price + buttons */
  text-align: center;
}

.fi-title {
  font-family: 'Lilita One', cursive;
  font-weight: 400;
  font-size: 1.6rem;
  margin: 0;
  -webkit-text-stroke: 1px rgba(0,0,0,0.06);
}

.fi-desc { margin: 0; line-height: 1.5; }

/* ==== Card patterns (fun but subtle) ==== */
.fi-card[data-pattern="stripes"] {
  background-image:
    repeating-linear-gradient(
      var(--fi-pattern-angle, 45deg),
      transparent 0,
      transparent 12px,
      var(--fi-pattern-color, rgba(0,0,0,0.06)) 12px,
      var(--fi-pattern-color, rgba(0,0,0,0.06)) 16px
    );
}
.fi-card[data-pattern="dots"] {
  background-image: radial-gradient(var(--fi-pattern-color, rgba(0,0,0,0.06)) 1px, transparent 1px);
  background-size: 12px 12px;
}

/* ==== Price styles ==== */

/* Pill badge (default) — compact and centered */
.fi-price-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 10px 18px;
  border-radius: 9999px;
  font-weight: 800;
  letter-spacing: 0.2px;
  box-shadow: 4px 4px 0 rgba(33,33,33,0.12);
  width: max-content;             /* shrink to content */
  margin-inline: auto;            /* center */
}
.fi-price-badge .fi-compare {
  margin-left: 8px;
  opacity: .75;
  text-decoration: line-through;
}

/* Inline price variant (text only) */
.fi-price-inline {
  font-weight: 700;
  font-size: 1.1rem;
}

/* Burst price (fun starburst) */
.fi-price-burst {
  --size: 64px;
  display: inline-grid;
  place-items: center;
  min-width: var(--size);
  height: var(--size);
  padding: 10px 16px;
  color: inherit;
  background: var(--burst-bg, #ffeb3b);
  border: 3px solid var(--burst-stroke, #212121);
  box-shadow: var(--burst-shadow, 3px 3px 0 rgba(0,0,0,0.12));
  clip-path: polygon(
    50% 0%, 60% 20%, 82% 18%, 70% 36%, 90% 50%,
    70% 64%, 82% 82%, 60% 80%, 50% 100%, 40% 80%,
    18% 82%, 30% 64%, 10% 50%, 30% 36%, 18% 18%, 40% 20%
  );
}
.fi-price-burst .fi-compare {
  margin-left: 8px;
  opacity: .8;
  text-decoration: line-through;
}

/* Hang-tag price */
.fi-price-tag {
  position: relative;
  display: inline-flex;
  align-items: center;
  padding: 10px 28px 10px 22px;
  background: var(--tag-bg, #fffdf5);
  border: var(--tag-border, 3px) solid var(--tag-stroke, #212121);
  border-radius: var(--tag-radius, 14px);
  box-shadow: var(--tag-shadow, 3px 3px 0 rgba(0,0,0,0.12));
}
.fi-price-tag::after {
  content: '';
  position: absolute;
  right: -10px;
  top: 50%;
  width: 18px; height: 18px;
  transform: translateY(-50%);
  background:
    radial-gradient(circle 4px at 50% 50%, var(--tag-accent, #212121) 99%, transparent 100%) no-repeat center/100%,
    var(--tag-bg, #fffdf5);
  border: var(--tag-border, 3px) solid var(--tag-stroke, #212121);
  border-left: none;
  border-radius: 0 10px 10px 0;
}
.fi-price-tag .fi-compare {
  margin-left: 8px;
  opacity: .75;
  text-decoration: line-through;
}

/* ==== Actions band (optional wrapper) ==== */
.fi-actions {
  width: 100%;
  max-width: 440px;
  margin: 8px auto 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
}

/* ==== CTA rows ==== */
.fi-cta-row {
  display: flex;
  flex-wrap: wrap;                /* wraps automatically on small screens */
  justify-content: center;
  gap: 10px;
  margin-top: 6px;
}

/* Desktop/tablet equal layout uses Grid */
.fi-cta-row.equal {
  display: grid;
  grid-template-columns: repeat(2, minmax(200px, 1fr));
  gap: 12px;
  align-items: stretch;
  justify-items: stretch;
}

/* Buttons fill cells on larger screens */
.fi-cta-row.equal .fi-cta { width: 100%; }
.fi-cta-row.equal .fi-cta > .btn { width: 100%; }

/* <= 768px: turn OFF grid — fall back to the base flex wrapper above */
@media (max-width: 768px) {
  .fi-cta-row.equal {
    display: flex;                /* uses flex-wrap from .fi-cta-row */
    grid-template-columns: unset;
    gap: 10px;                    /* match base gap */
  }
  .fi-cta-row.equal .fi-cta,
  .fi-cta-row.equal .fi-cta > .btn {
    width: auto;                  /* let them size naturally when wrapped */
    min-width: 0;
  }
}

/* ==== Responsive stacking for the MAIN content grid ==== */
.fi-stack-md .fi-grid { grid-template-columns: 1fr 1fr; }
@media (max-width: 768px) {
  .fi-stack-md .fi-grid { grid-template-columns: 1fr; }
}

.fi-stack-sm .fi-grid { grid-template-columns: 1fr 1fr; }
@media (max-width: 640px) {
  .fi-stack-sm .fi-grid { grid-template-columns: 1fr; }
}

.fi-stack-lg .fi-grid { grid-template-columns: 1fr 1fr; }
@media (max-width: 1024px) {
  .fi-stack-lg .fi-grid { grid-template-columns: 1fr; }
}
